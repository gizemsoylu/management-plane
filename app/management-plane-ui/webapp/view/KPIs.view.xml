<mvc:View
    controllerName="com.ndbs.managementplaneui.controller.KPIs"
    xmlns:smartfilterbar="sap.ui.comp.smartfilterbar"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    displayBlock="true"
    xmlns="sap.m"
>
    <Page
        id="pageKPIResults"
        showNavButton="true"
        navButtonPress="onNavKPIsOverview"
    >
        <FlexBox
            justifyContent="Center"
            alignItems="Center"
        >
            <VBox width="95%">
                <Panel class="sapUiSmallMarginTop">
                    <content>
                        <smartfilterbar:SmartFilterBar
                            id="sfbKPIs"
                            entitySet="KPIs"
                        />
                        <smartTable:SmartTable
                            id="stKPIs"
                            entitySet="KPIs"
                            smartFilterId="sfbKPIs"
                            showPasteButton="false"
                            showTablePersonalisation="false"
                            showVariantManagement="false"
                            showRowCount="false"
                            enableAutoBinding="true"
                            class="sapUiResponsiveContentPadding"
                            editTogglable="false"
                            enableExport="false"
                            showFullScreenButton="false"
                            enableCopy="false"
                            beforeRebindTable="onBeforeRebindTable"
                            useVariantManagement="false"
                            tableType="Table"
                            requestAtLeastFields="subchapterID,subchapterName"
                        >
                            <Table>
                                <columns>
                                    <Column>
                                        <customData>
                                            <core:CustomData
                                                key="p13nData"
                                                value='\{"columnKey": "state", "leadingProperty": "state", "columnIndex": 1}'
                                            />
                                        </customData>
                                        <Text text="{i18n>State}" />
                                    </Column>
                                </columns>
                                <items>
                                    <ColumnListItem
                                        type="Navigation"
                                        press="onItemPressed"
                                    >
                                        <cells>
                                            <ObjectStatus
                                                text="{state}"
                                                state="{path:'state', formatter:'.formatter.formatRowHighlight'}"
                                                class="sapMObjectStatusMedium"
                                            />
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                        </smartTable:SmartTable>
                    </content>
                </Panel>
            </VBox>
        </FlexBox>
    </Page>
</mvc:View>
